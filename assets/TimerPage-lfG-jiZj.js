import{d as b,o as D,a as B,r as i,g as V,c as h,b as d,e as p,f as l,t as F,u as g,w as U,h as P,v as R,i as q,j as E,k as L,F as S,l as Z,m as z,n as G}from"./index-jeNdv40T.js";const H={class:"flex justify-center px-6 py-2 text-6xl"},J={class:"mx-4 my-4 flex justify-center"},K=["disabled"],O=["disabled"],Q=b({__name:"AlarmInstance",props:{countdownInSecond:{type:Number,required:!1,default:5e3}},emits:["stopAlarm"],setup(f,{emit:n}){var y;const c=f,o=n;D(()=>{_()}),B(()=>{k()});let u=c.countdownInSecond,t=i(0),r=i(""),e=i(0),a=i(),m=(y=V())==null?void 0:y.vnode.key,w=h(()=>{let s=e.value/1e3,v=Math.floor(s/(60*60)),C=Math.floor(s/60),j=Math.floor(s%60),N=String(v).padStart(2,"0"),$=String(C).padStart(2,"0"),A=String(j).padStart(2,"0");return`${N}:${$}:${A}`});const x=h(()=>t.value==0);function _(){if(t.value!=0)return;a.value=new Date,a.value.setTime(a.value.getTime()+u),r.value=a.value.toString(),e.value=u;const s=100;t.value=window.setInterval(()=>{let v=new Date().getTime();e.value=a.value.getTime()-v,e.value<=0&&I()},s)}function T(){u=a.value.getTime()-new Date().getTime(),clearInterval(t.value),t.value=0}function k(){clearInterval(t.value),t.value=0,e.value=0,r.value=""}function I(){clearInterval(t.value),t.value=0,e.value=0}function M(){clearInterval(t.value),t.value=0,e.value=0,r.value="",m&&o("stopAlarm",m.toString())}return(s,v)=>(d(),p("div",null,[l("div",H,F(g(w)),1),l("div",J,[l("button",{disabled:x.value,class:"mx-2 rounded-lg border-solid border-black bg-orange-200 px-6 py-2 hover:bg-red-500 disabled:cursor-not-allowed disabled:opacity-15",onClick:T}," Pause ",8,K),l("button",{disabled:!x.value,class:"mx-2 rounded-lg border-solid border-black bg-green-200 px-6 py-2 hover:bg-red-500 disabled:cursor-not-allowed disabled:opacity-15",onClick:_}," Resume ",8,O),l("button",{class:"mx-2 rounded-lg border-solid border-black bg-red-200 px-6 py-2 hover:bg-red-500",onClick:M}," Close ")])]))}}),W={class:"mx-4 my-4 flex justify-center"},X=l("label",{class:"mb-2 flex justify-center text-2xl font-medium text-gray-900 dark:text-white",for:"input_time"}," Input countdown ",-1),Y={class:"flex justify-center text-2xl"},ee={class:"flex flex-wrap justify-center"},te=b({__name:"Countdown",setup(f){let n=i(0),c=()=>Math.floor(Math.random()*1e4),o=i({});function u(){(isNaN(n.value)||!n.value)&&(n.value=1);const r=60*1e3;let e=parseInt(n.value.toString())*r;o.value&&(o.value[c().toString()]={timerMillis:e})}function t(r){o.value&&delete o.value[r]}return(r,e)=>(d(),p(S,null,[l("div",W,[l("form",{onSubmit:e[1]||(e[1]=U(()=>{},["prevent"]))},[X,l("span",Y,[P(l("input",{id:"input_time","onUpdate:modelValue":e[0]||(e[0]=a=>q(n)?n.value=a:n=a),class:"text-grey mx-2 border border-gray-300 bg-gray-50",placeholder:"5"},null,512),[[R,g(n),void 0,{number:!0}]]),E(" minutes ")])],32)]),l("div",{class:"mx-4 my-4 flex justify-center"},[l("button",{class:"mx-2 rounded-lg border-solid border-black bg-green-200 px-6 py-2 hover:bg-green-500",onClick:u}," Start ")]),L("",!0),l("div",ee,[(d(!0),p(S,null,Z(g(o),(a,m)=>(d(),z(Q,{key:m,"countdown-in-second":a.timerMillis,onStopAlarm:t},null,8,["countdown-in-second"]))),128))])],64))}}),ne=b({__name:"TimerPage",setup(f){return(n,c)=>(d(),p("section",null,[G(te)]))}});export{ne as default};
