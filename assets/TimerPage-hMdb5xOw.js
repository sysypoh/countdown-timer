import{d as w,o as F,a as L,r as s,g as q,c as y,_ as O,b as c,e as p,f as a,t as C,u as v,w as X,h as z,v as G,i as H,j as J,k as I,F as M,l as K,m as Q,n as W}from"./index-I2A6MiId.js";const Y={class:"flex grow-0 justify-center px-1 py-2 text-6xl"},Z={class:"mx-4 my-4 flex justify-center"},ee=["disabled"],te=w({__name:"AlarmInstance",props:{countdownInSecond:{type:Number,required:!1,default:5e3}},emits:["stopAlarm"],setup(x,{emit:l}){var k;const g=x,u=l;F(()=>{T()}),L(()=>{U()});const r={Countingdown:"Countingdown",Paused:"Paused",TimeUp:"TimeUp",Stopped:"Stopped"};let o=s(void 0),t=s(),n=g.countdownInSecond,e=s(0),f=s(""),d=s(0),m=s(),S=(k=q())==null?void 0:k.vnode.key,j=y(()=>{let i=d.value/1e3,_=Math.floor(i/(60*60)),$=Math.floor(i/60),V=Math.floor(i%60),B=String(_).padStart(2,"0"),R=String($).padStart(2,"0"),E=String(V).padStart(2,"0");return`${B}:${R}:${E}`}),h=y(()=>t.value);function T(){if(e.value!=0)return;m.value=new Date,m.value.setTime(m.value.getTime()+n),f.value=m.value.toString(),d.value=n;const i=100;e.value=window.setInterval(()=>{let _=new Date().getTime();d.value=m.value.getTime()-_,d.value<=0&&D()},i),t.value=r.Countingdown}function A(){n=m.value.getTime()-new Date().getTime(),clearInterval(e.value),e.value=0,t.value=r.Paused,b()}function U(){clearInterval(e.value),e.value=0,d.value=0,f.value="",t.value=r.Stopped,b()}function D(){clearInterval(e.value),e.value=0,d.value=0,t.value=r.TimeUp,P()}function N(i){clearInterval(e.value),e.value=0,d.value=0,f.value="",t.value=r.Stopped,b(),S&&u("stopAlarm",S.toString())}async function P(){if(o.value===void 0){const i=await O(()=>import("./bell_1-GeYJ0uP-.js"),__vite__mapDeps([]));o.value=new Audio(i.default),o.value.loop=!0,o.value.play()}}async function b(){o.value!==void 0&&(o.value.pause(),o.value=void 0)}return(i,_)=>(c(),p("div",null,[a("div",{class:"flex justify-end"},[a("button",{class:"mx-2 rounded-lg border-solid border-black bg-red-200 px-6 py-2 hover:bg-red-500",onClick:N}," X ")]),a("div",Y,C(v(j)),1),a("div",Z,[v(h)==r.Countingdown?(c(),p("button",{key:0,class:"mx-2 rounded-lg border-solid border-black bg-orange-200 px-6 py-2 hover:bg-orange-500 disabled:cursor-not-allowed disabled:opacity-15",onClick:A}," Pause ")):(c(),p("button",{key:1,class:"mx-2 rounded-lg border-solid border-black bg-green-200 px-6 py-2 hover:bg-green-500 disabled:cursor-not-allowed disabled:opacity-15",onClick:T},C(v(h)==r.TimeUp?"Restart":"Resume"),1)),a("button",{disabled:v(o)==null,class:"mx-2 rounded-lg border-solid border-black bg-orange-200 px-6 py-2 hover:bg-red-500 disabled:cursor-not-allowed disabled:opacity-15",onClick:b}," Stop Alarm ",8,ee)])]))}}),ae={class:"mx-4 my-4 flex justify-center"},ne=a("label",{class:"mb-2 flex justify-center text-2xl font-medium text-gray-900 dark:text-white",for:"input_time"}," Input countdown ",-1),le={class:"flex justify-center text-2xl"},oe={class:"flex flex-wrap justify-center gap-x-12 gap-y-4"},re=w({__name:"Countdown",setup(x){let l=s(0),g=()=>Math.floor(Math.random()*1e4),u=s({});y(()=>{let t=[];for(let n in u.value)t.push(n);return t.join(", ")});function r(){(isNaN(l.value)||!l.value)&&(l.value=1);const t=60*1e3;let n=parseInt(l.value.toString())*t;u.value&&(u.value[g().toString()]={timerMillis:n})}function o(t){u.value&&delete u.value[t]}return(t,n)=>(c(),p(M,null,[a("div",ae,[a("form",{onSubmit:n[1]||(n[1]=X(()=>{},["prevent"]))},[ne,a("span",le,[z(a("input",{id:"input_time","onUpdate:modelValue":n[0]||(n[0]=e=>H(l)?l.value=e:l=e),class:"text-grey mx-2 border border-gray-300 bg-gray-50",placeholder:"5"},null,512),[[G,v(l),void 0,{number:!0}]]),J(" minutes ")])],32)]),I("",!0),a("div",{class:"mx-4 my-4 flex justify-center"},[a("button",{class:"mx-2 rounded-lg border-solid border-black bg-green-200 px-6 py-2 hover:bg-green-500",onClick:r}," Start ")]),I("",!0),a("div",oe,[(c(!0),p(M,null,K(v(u),(e,f)=>(c(),Q(te,{key:f,"countdown-in-second":e.timerMillis,onStopAlarm:o},null,8,["countdown-in-second"]))),128))])],64))}}),ue=w({__name:"TimerPage",setup(x){return(l,g)=>(c(),p("section",null,[W(re)]))}});export{ue as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
