import{d as x,o as B,a as V,r as i,g as F,c as _,b as c,e as f,f as e,t as T,u as p,w as U,h as P,v as R,i as q,j as E,k as L,F as w,l as O,m as Z,n as z}from"./index-RvSYCiAY.js";const G={class:"flex justify-center px-6 py-2 text-6xl"},H={class:"mx-4 my-4 flex justify-center"},J=["disabled"],K=["disabled"],Q=x({__name:"AlarmInstance",props:{countdownInSecond:{type:Number,required:!1,default:5e3}},emits:["stopAlarm"],setup(g,{emit:a}){var S;const m=g,r=a;B(()=>{h()}),V(()=>{I()});let u=m.countdownInSecond,t=i(0),d=i(""),n=i(0),l=i(),o=(S=F())==null?void 0:S.vnode.key,b=_(()=>{let s=n.value/1e3,v=Math.floor(s/(60*60)),j=Math.floor(s/60),N=Math.floor(s%60),$=String(v).padStart(2,"0"),A=String(j).padStart(2,"0"),D=String(N).padStart(2,"0");return`${$}:${A}:${D}`});const y=_(()=>t.value==0);function h(){if(t.value!=0)return;l.value=new Date,l.value.setTime(l.value.getTime()+u),d.value=l.value.toString(),n.value=u;const s=100;t.value=window.setInterval(()=>{let v=new Date().getTime();n.value=l.value.getTime()-v,n.value<=0&&M()},s)}function k(){u=l.value.getTime()-new Date().getTime(),clearInterval(t.value),t.value=0}function I(){clearInterval(t.value),t.value=0,n.value=0,d.value=""}function M(){clearInterval(t.value),t.value=0,n.value=0}function C(s){clearInterval(t.value),t.value=0,n.value=0,d.value="",o&&r("stopAlarm",o.toString())}return(s,v)=>(c(),f("div",null,[e("div",G,T(p(b)),1),e("div",H,[e("button",{disabled:y.value,class:"mx-2 rounded-lg border-solid border-black bg-orange-200 px-6 py-2 hover:bg-red-500 disabled:cursor-not-allowed disabled:opacity-15",onClick:k}," Pause ",8,J),e("button",{disabled:!y.value,class:"mx-2 rounded-lg border-solid border-black bg-green-200 px-6 py-2 hover:bg-red-500 disabled:cursor-not-allowed disabled:opacity-15",onClick:h}," Resume ",8,K),e("button",{class:"mx-2 rounded-lg border-solid border-black bg-red-200 px-6 py-2 hover:bg-red-500",onClick:C}," Close ")])]))}}),W={class:"mx-4 my-4 flex justify-center"},X=e("label",{class:"mb-2 flex justify-center text-2xl font-medium text-gray-900 dark:text-white",for:"input_time"}," Input countdown ",-1),Y={class:"flex justify-center text-2xl"},ee={class:"flex flex-wrap justify-center"},te=x({__name:"Countdown",setup(g){let a=i(0),m=()=>Math.floor(Math.random()*1e4),r=i({}),u=_(()=>(console.log(r.value.keys),r.value.keys));function t(){(isNaN(a.value)||!a.value)&&(a.value=1);const n=60*1e3;let l=parseInt(a.value.toString())*n;r.value&&(r.value[m().toString()]={timerMillis:l})}function d(n){r.value&&delete r.value[n]}return(n,l)=>(c(),f(w,null,[e("div",W,[e("form",{onSubmit:l[1]||(l[1]=U(()=>{},["prevent"]))},[X,e("span",Y,[P(e("input",{id:"input_time","onUpdate:modelValue":l[0]||(l[0]=o=>q(a)?a.value=o:a=o),class:"text-grey mx-2 border border-gray-300 bg-gray-50",placeholder:"5"},null,512),[[R,p(a),void 0,{number:!0}]]),E(" minutes ")])],32)]),e("div",null,T(p(u)),1),e("div",{class:"mx-4 my-4 flex justify-center"},[e("button",{class:"mx-2 rounded-lg border-solid border-black bg-green-200 px-6 py-2 hover:bg-green-500",onClick:t}," Start ")]),L("",!0),e("div",ee,[(c(!0),f(w,null,O(p(r),(o,b)=>(c(),Z(Q,{key:b,"countdown-in-second":o.timerMillis,onStopAlarm:d},null,8,["countdown-in-second"]))),128))])],64))}}),ne=x({__name:"TimerPage",setup(g){return(a,m)=>(c(),f("section",null,[z(te)]))}});export{ne as default};
