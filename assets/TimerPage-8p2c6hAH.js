import{d as _,o as B,a as V,r as i,g as F,c as g,b as d,e as p,f as l,t as U,u as b,w as P,h as R,v as q,i as E,j as L,k as S,F as w,l as Z,m as z,n as G}from"./index-5r_f72p2.js";const H={class:"flex justify-center px-6 py-2 text-6xl"},J={class:"mx-4 my-4 flex justify-center"},K=["disabled"],O=["disabled"],Q=_({__name:"AlarmInstance",props:{countdownInSecond:{type:Number,required:!1,default:5e3}},emits:["stopAlarm"],setup(f,{emit:n}){var h;const c=f,o=n;B(()=>{y()}),V(()=>{I()});let u=c.countdownInSecond,t=i(0),a=i(""),e=i(0),r=i(),m=(h=F())==null?void 0:h.vnode.key,T=g(()=>{let s=e.value/1e3,v=Math.floor(s/(60*60)),j=Math.floor(s/60),N=Math.floor(s%60),$=String(v).padStart(2,"0"),A=String(j).padStart(2,"0"),D=String(N).padStart(2,"0");return`${$}:${A}:${D}`});const x=g(()=>t.value==0);function y(){if(t.value!=0)return;r.value=new Date,r.value.setTime(r.value.getTime()+u),a.value=r.value.toString(),e.value=u;const s=100;t.value=window.setInterval(()=>{let v=new Date().getTime();e.value=r.value.getTime()-v,e.value<=0&&M()},s)}function k(){u=r.value.getTime()-new Date().getTime(),clearInterval(t.value),t.value=0}function I(){clearInterval(t.value),t.value=0,e.value=0,a.value=""}function M(){clearInterval(t.value),t.value=0,e.value=0}function C(s){clearInterval(t.value),t.value=0,e.value=0,a.value="",m&&o("stopAlarm",m.toString())}return(s,v)=>(d(),p("div",null,[l("div",H,U(b(T)),1),l("div",J,[l("button",{disabled:x.value,class:"mx-2 rounded-lg border-solid border-black bg-orange-200 px-6 py-2 hover:bg-red-500 disabled:cursor-not-allowed disabled:opacity-15",onClick:k}," Pause ",8,K),l("button",{disabled:!x.value,class:"mx-2 rounded-lg border-solid border-black bg-green-200 px-6 py-2 hover:bg-red-500 disabled:cursor-not-allowed disabled:opacity-15",onClick:y}," Resume ",8,O),l("button",{class:"mx-2 rounded-lg border-solid border-black bg-red-200 px-6 py-2 hover:bg-red-500",onClick:C}," Close ")])]))}}),W={class:"mx-4 my-4 flex justify-center"},X=l("label",{class:"mb-2 flex justify-center text-2xl font-medium text-gray-900 dark:text-white",for:"input_time"}," Input countdown ",-1),Y={class:"flex justify-center text-2xl"},ee={class:"flex flex-wrap justify-center"},te=_({__name:"Countdown",setup(f){let n=i(0),c=()=>Math.floor(Math.random()*1e4),o=i({});g(()=>{let a=[];for(let e in o.value)a.push(e);return a.join(", ")});function u(){(isNaN(n.value)||!n.value)&&(n.value=1);const a=60*1e3;let e=parseInt(n.value.toString())*a;o.value&&(o.value[c().toString()]={timerMillis:e})}function t(a){o.value&&delete o.value[a]}return(a,e)=>(d(),p(w,null,[l("div",W,[l("form",{onSubmit:e[1]||(e[1]=P(()=>{},["prevent"]))},[X,l("span",Y,[R(l("input",{id:"input_time","onUpdate:modelValue":e[0]||(e[0]=r=>E(n)?n.value=r:n=r),class:"text-grey mx-2 border border-gray-300 bg-gray-50",placeholder:"5"},null,512),[[q,b(n),void 0,{number:!0}]]),L(" minutes ")])],32)]),S("",!0),l("div",{class:"mx-4 my-4 flex justify-center"},[l("button",{class:"mx-2 rounded-lg border-solid border-black bg-green-200 px-6 py-2 hover:bg-green-500",onClick:u}," Start ")]),S("",!0),l("div",ee,[(d(!0),p(w,null,Z(b(o),(r,m)=>(d(),z(Q,{key:m,"countdown-in-second":r.timerMillis,onStopAlarm:t},null,8,["countdown-in-second"]))),128))])],64))}}),ne=_({__name:"TimerPage",setup(f){return(n,c)=>(d(),p("section",null,[G(te)]))}});export{ne as default};
